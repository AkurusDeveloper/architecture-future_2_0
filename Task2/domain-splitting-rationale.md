# Обоснование разделения на домены

## Общая идея

Разделение на домены позволяет уйти от DWH-центричной архитектуры, где бизнес-логика сосредоточена в хранилище. Каждый домен развивается независимо, имеет свою ответственность и публикует события через интеграционный слой. Это устраняет необходимость постоянно дописывать хранимые процедуры в DWH для новых сценариев.

## Преимущества разделения

### Ускорение time-to-market

| Аспект | Как помогает |
|--------|--------------|
| Независимая разработка | Команды доменов работают параллельно без блокировок |
| Отсутствие изменений в DWH | Новые фичи не требуют правок в хранилище |
| Событийная интеграция | Слабая связность ускоряет внедрение изменений |

**Пример:** Добавление нового банковского продукта в домене Финтех не требует изменений в домене Клиник или в DWH.

### Уменьшение зависимости от монолитного DWH

| Аспект | Как помогает |
|--------|--------------|
| Бизнес-логика в доменах | Логика переезжает из DWH в доменные сервисы |
| События как интерфейс | Домены общаются через события, не через DWH |
| Витрины вместо прямых запросов | Аналитика читает готовые витрины, не сырые данные |

**Пример:** Отчетность формируется из витрин в облачном DWH, а не из монолитного MS SQL 2008 с бизнес-логикой.

### Независимое развитие направлений

| Домен | Преимущества |
|-------|--------------|
| Клиники | Развитие клинических приложений без влияния на финтех |
| Финтех | Изоляция банковских процессов от медицинского контура |
| ИИ | Отдельные пайплайны и песочницы для экспериментов |
| Партнеры | Подключение без изменения ядра платформы |

**Пример:** Команда ИИ может экспериментировать с моделями в песочнице, не затрагивая продакшн-процессы клиник.

### Упрощение подключения новых партнеров

| Аспект | Как помогает |
|--------|--------------|
| Интеграционный слой | Новый партнер подключается через коннекторы |
| События вместо схем БД | Не нужно менять структуру DWH |
| Изоляция доменов | Партнер не влияет на другие домены |

**Пример:** Фармацевтическая компания подключается через коннектор, публикует события о поставках, пайплайны обрабатывают данные без правок бизнес-логики в DWH.

### Улучшение управления регуляторными требованиями

| Аспект | Как помогает |
|--------|--------------|
| Изоляция данных | Медицинские и финансовые данные разделены |
| Ролевой доступ | Централизованное управление через домен Доступа |
| Аудит | Журналирование действий по доменам |
| Исключение медкарт | Медицинские карты не попадают в витрину данных |

**Пример:** Соответствие финансовым регуляторам обеспечивается изоляцией домена Финтех, медицинским — исключением медкарт из аналитики.

## Ключевые бизнес-сценарии

### Сценарий 1: Быстрая подготовка отчетов

**Проблема:** Построение сложных отчетов занимает часы из-за монолитного DWH.

**Решение:** Витрины формируются заранее в облачном DWH, отчетность читает готовые агрегаты.

**Выигрыш:** Время подготовки отчетов сокращается с часов до минут.

### Сценарий 2: Добавление нового банковского продукта

**Проблема:** Изменения в финтех требуют правок в DWH, что затрагивает другие домены.

**Решение:** Домен Финтех реализует продукт самостоятельно, публикует события, витрины обновляются автоматически.

**Выигрыш:** Time-to-market нового продукта сокращается с месяцев до недель.

### Сценарий 3: Интеграция фармацевтической компании

**Проблема:** Подключение нового партнера требует изменений схемы DWH и хранимых процедур.

**Решение:** Партнер подключается через интеграционный слой, публикует события, пайплайны обрабатывают данные.

**Выигрыш:** Подключение партнера занимает дни вместо месяцев, без изменения ядра.

### Сценарий 4: ИИ-анализ медицинских данных

**Проблема:** ИИ-эксперименты требуют доступа к продакшн-данным, что создает риски.

**Решение:** ИИ получает согласованные обезличенные наборы через платформу данных, работает в изолированных пайплайнах.

**Выигрыш:** Безопасные эксперименты без влияния на продакшн, быстрая итерация моделей.

### Сценарий 5: Соответствие регуляторам

**Проблема:** Медицинские и финансовые данные смешаны, сложно обеспечить соответствие требованиям.

**Решение:** Изоляция доменов, ролевой доступ, исключение медкарт из витрины данных.

**Выигрыш:** Прозрачное соответствие требованиям, снижение регуляторных рисков.

